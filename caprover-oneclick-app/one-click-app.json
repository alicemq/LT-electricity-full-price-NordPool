{
  "captainVersion": "4",
  "documentation": "https://github.com/your-repo/electricity-prices-nordpool",
  "dockerComposeVersion": "3.8",
  "instructions": {
    "start": "Electricity Prices NordPool is a modern containerized electricity price monitoring system for Baltic countries (Lithuania, Estonia, Latvia, Finland) with automated data synchronization from the Elering NordPool API.\n\n## Features\n- Multi-country support (LT, EE, LV, FI)\n- DST-aware timestamps for electricity markets\n- Automated data synchronization\n- Interactive API documentation\n- Real-time price monitoring\n- Historical data access\n\n## Access Points\n- **Frontend**: https://your-app-name.your-domain.com\n- **API**: https://your-app-name.your-domain.com/api/v1/\n- **Swagger UI**: https://your-app-name.your-domain.com/api/\n- **Health Check**: https://your-app-name.your-domain.com/api/v1/health\n\n## Environment Variables\n- `NODE_ENV`: Environment mode (production)\n- `DATABASE_URL`: PostgreSQL connection string\n- `ELERING_API_URL`: Elering API endpoint\n- `FRONTEND_URL`: Frontend URL for CORS\n- `POSTGRES_DB`: Database name\n- `POSTGRES_USER`: Database user\n- `POSTGRES_PASSWORD`: Database password\n\n## API Endpoints\n- `GET /api/v1/health` - Health check\n- `GET /api/v1/countries` - Available countries\n- `GET /api/v1/nps/prices` - Price data for date/range\n- `GET /api/v1/nps/price/{country}/latest` - Latest price\n- `GET /api/v1/nps/price/{country}/current` - Current hour price\n\n## Data Sources\n- **Primary**: Elering API (https://dashboard.elering.ee/api/nps/price)\n- **Storage**: PostgreSQL database with optimized queries\n- **Sync**: Automated every 30 minutes during NordPool hours\n\n## Timezone Handling\n- **Market timezone**: Europe/Vilnius (CET/CEST)\n- **NordPool boundaries**: 22:00 UTC to 21:59 UTC\n- **DST conversion**: Automatic handling of daylight saving time",
    "end": "Electricity Prices NordPool has been successfully deployed!\n\n## Next Steps\n1. **Test the application**: Visit your domain to verify everything is working\n2. **Check logs**: Monitor the application logs for any issues\n3. **Configure monitoring**: Set up alerts for the health check endpoint\n4. **Data sync**: The system will automatically start syncing data\n\n## Troubleshooting\n- **Health check fails**: Check logs for database connection issues\n- **No data**: Verify Elering API connectivity and sync worker status\n- **SSL issues**: CapRover handles SSL automatically\n\n## Support\n- **Documentation**: https://github.com/your-repo/electricity-prices-nordpool\n- **Issues**: https://github.com/your-repo/electricity-prices-nordpool/issues\n- **API Docs**: Available at /api/ endpoint\n\n## Performance\n- **Data sync**: 672 records in 478ms\n- **API response**: < 100ms for typical queries\n- **Database**: Optimized queries with proper indexing\n- **Caching**: Database-based caching eliminates external API calls"
  },
  "displayName": "Electricity Prices NordPool",
  "description": "Modern containerized electricity price monitoring system for Baltic countries (Lithuania, Estonia, Latvia, Finland) with automated data synchronization from the Elering NordPool API.",
  "variables": [
    {
      "id": "$$cap_appname",
      "label": "App Name",
      "description": "The name of your application",
      "defaultValue": "electricity-prices",
      "validRegex": "/^[a-z0-9][a-z0-9-]*[a-z0-9]$/"
    },
    {
      "id": "$$cap_root_domain",
      "label": "Root Domain",
      "description": "Your root domain (e.g., yourdomain.com)",
      "defaultValue": "yourdomain.com"
    },
    {
      "id": "$$cap_postgres_password",
      "label": "PostgreSQL Password",
      "description": "Password for the PostgreSQL database",
      "defaultValue": "electricity_password",
      "validRegex": "/^[a-zA-Z0-9!@#$%^&*()_+-=]{8,}$/"
    },
    {
      "id": "$$cap_elering_api_url",
      "label": "Elering API URL",
      "description": "Elering API endpoint for electricity price data",
      "defaultValue": "https://dashboard.elering.ee/api/nps/price"
    }
  ],
  "image": "https://raw.githubusercontent.com/your-repo/electricity-prices-nordpool/main/docs/logo.png",
  "repository": {
    "url": "https://github.com/your-repo/electricity-prices-nordpool",
    "stackFile": "captain-definition"
  },
  "envVars": [
    {
      "name": "NODE_ENV",
      "value": "production"
    },
    {
      "name": "DATABASE_URL",
      "value": "postgresql://electricity_user:$$cap_postgres_password@postgres:5432/electricity_prices"
    },
    {
      "name": "ELERING_API_URL",
      "value": "$$cap_elering_api_url"
    },
    {
      "name": "FRONTEND_URL",
      "value": "https://$$cap_appname.$$cap_root_domain"
    },
    {
      "name": "POSTGRES_DB",
      "value": "electricity_prices"
    },
    {
      "name": "POSTGRES_USER",
      "value": "electricity_user"
    },
    {
      "name": "POSTGRES_PASSWORD",
      "value": "$$cap_postgres_password"
    }
  ],
  "volumes": [
    {
      "containerPath": "/var/lib/postgresql/data",
      "hostPath": "/captain/data/postgres"
    }
  ],
  "ports": [
    {
      "containerPort": 80,
      "hostPort": 80,
      "protocol": "HTTP"
    }
  ],
  "healthCheck": {
    "httpPath": "/api/v1/health",
    "httpPort": 80,
    "httpMethod": "GET",
    "initialDelaySeconds": 60,
    "intervalSeconds": 30,
    "timeoutSeconds": 10,
    "maxRetries": 3
  },
  "tags": [
    "electricity",
    "prices",
    "nordpool",
    "baltic",
    "monitoring",
    "api",
    "vue",
    "nodejs",
    "postgresql",
    "docker"
  ],
  "categories": [
    "monitoring",
    "api",
    "data",
    "utilities"
  ]
} 